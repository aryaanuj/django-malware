from django.db import models
from django.contrib.auth.models import AbstractUser
from .manager import UserManager


class User(AbstractUser):
	PENDING='pending'
	ACCEPT = 'accept'
	STATUS_CHOICES = (
		(PENDING, 'pending'),
		(ACCEPT, 'accept')
	)
	username = None
	email = models.EmailField(unique=True)
	mobile = models.CharField(max_length=12)
	job = models.CharField(max_length=255)
	organization = models.CharField(max_length=255)
	status = models.CharField(max_length=20,choices=STATUS_CHOICES, db_index=True, default='pending')

	objects = UserManager()

	USERNAME_FIELD = 'email'
	REQUIRED_FIELDS = []